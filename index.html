<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Loki Clarke's Stocks & Signals</title>
    <link rel="icon" href="icon.png" />
    <link rel="apple-touch-icon" href="icon.png" />
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#090909" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
      :root{
        --bg-dark:#090909; --bg-dark-end:#050505; --bg-light:#f6f7fb; --bg-light-end:#f6f7fb;
        --text:#eee; --card:#0f0f0f; --card-end:#0b0b0b; --muted:#9a9a9a; --accent:#00d1ff; --glass: rgba(255,255,255,0.03);
        --skeleton-start:#111; --skeleton-mid:#0b0b0b;
        --profit-pos:#27ae60; --profit-neg:#ff5050;
      }
      :root.light{
        --text:#111827; --card: #ffffff; --card-end:#f3f4f6; --muted:#6b7280; --accent:#0b74de; --glass: rgba(0,0,0,0.04);
        --skeleton-start:#e9eef6; --skeleton-mid:#f3f4f6;
        --profit-pos:#1f8b4c; --profit-neg:#e11d48;
        color-scheme: light;
      }
      html,body{height:100%;margin:0;font-family:Inter,Segoe UI,Helvetica,Arial;color:var(--text,#eee);background:none;}
      body{display:flex;min-height:100vh}
      .wrap{flex:1;display:flex;flex-direction:column}
      main{flex:1}
      body{color:var(--text,#eee)}
      .wrap{max-width:1100px;margin:36px auto;padding:24px}
      header{display:flex;flex-direction:column;align-items:flex-start;gap:14px}
      .header-top{display:flex;align-items:center;gap:12px}
      .brand{display:flex;align-items:center;gap:12px}
      .logo{width:36px;height:36px;border-radius:8px;object-fit:cover;border:1px solid rgba(255,255,255,0.04)}
      h1{font-weight:600;margin:0;font-size:20px}
      .sub{color:var(--muted);font-size:13px}
      .controls{display:flex;gap:12px;align-items:center}
      .theme-toggle{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px;border-radius:8px;color:var(--muted);cursor:pointer;display:inline-flex;align-items:center;gap:8px}
      .theme-toggle .icon{width:18px;height:18px;display:inline-block}
      .theme-toggle .icon-sun{display:none}
      .light .theme-toggle .icon-sun{display:inline-block}
      .light .theme-toggle .icon-moon{display:none}
      .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
      input[type="search"]{background:var(--card);border:1px solid rgba(255,255,255,0.04);padding:10px 12px;border-radius:10px;color:inherit;width:280px}
      select.sort-select{background:var(--card);border:1px solid rgba(255,255,255,0.04);color:inherit;padding:8px;border-radius:8px}
      .tabs{display:flex;gap:10px;margin:18px 0 8px 0}
      .tab{background:var(--card);border:1px solid rgba(255,255,255,0.06);color:var(--muted);padding:8px 14px;border-radius:999px;cursor:pointer;font-size:13px}
      .tab.active{color:var(--text);border-color:rgba(255,255,255,0.2);box-shadow:0 6px 16px rgba(0,0,0,0.12)}
      .tab-panel{display:none}
      .tab-panel.show{display:block}
      .model-panel{margin-top:14px}
      .model-header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
      .model-copy{color:var(--muted);font-size:13px;max-width:720px}
      .model-list{display:grid;gap:12px;margin-top:14px}
      .model-item{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px;border-radius:12px;background:linear-gradient(180deg,var(--card),var(--card-end));border:1px solid rgba(255,255,255,0.03)}
      .model-range{font-weight:600}
      .model-profit{font-weight:700}
      .promo-backdrop{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.62);backdrop-filter:blur(4px);z-index:1000}
      .promo-backdrop.show{display:flex}
      .promo-card{background:linear-gradient(180deg,var(--card),var(--card-end));border:1px solid rgba(255,255,255,0.08);border-radius:16px;max-width:760px;width:92%;padding:20px;box-shadow:0 20px 60px rgba(0,0,0,0.5)}
      .promo-header{display:flex;align-items:center;justify-content:space-between;gap:12px}
      .promo-title{font-size:20px;font-weight:700}
      .neon-text{background:linear-gradient(90deg,#00d1ff 0%,#409cff 60%,#00d1ff 100%);-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 0 12px rgba(0,209,255,0.35)}
      .promo-sub{color:var(--muted);font-size:13px;margin-top:4px}
      .promo-countdown{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap}
      .promo-pill{padding:8px 10px;border-radius:12px;background:var(--glass);border:1px solid rgba(255,255,255,0.08);min-width:70px;text-align:center}
      .promo-pill .num{font-size:18px;font-weight:700;color:var(--accent)}
      .promo-pill .label{font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:0.6px}
      .promo-table{margin-top:14px;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.06)}
      .promo-row{display:grid;grid-template-columns:1.4fr 1fr 1fr;gap:8px;padding:10px 12px;align-items:center}
      .promo-row.head{background:rgba(255,255,255,0.03);font-weight:600}
      .promo-row:nth-child(even){background:rgba(255,255,255,0.02)}
      .promo-cell{font-size:13px}
      .promo-check{font-weight:700}
      .promo-check.y{color:var(--profit-pos)}
      .promo-check.n{color:var(--profit-neg)}
      .promo-footer{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:14px;flex-wrap:wrap}
      .promo-prices{font-size:13px;color:var(--muted)}
      .promo-close{background:transparent;border:1px solid rgba(255,255,255,0.1);color:var(--text);padding:8px 12px;border-radius:10px;cursor:pointer}
      .closed-controls{display:flex;gap:12px;align-items:center;margin-top:12px}
      .view-toggle{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:0;border-radius:8px;color:var(--muted);cursor:pointer;display:inline-flex;align-items:center;min-width:44px;justify-content:center;height:34px;position:relative}
      .view-toggle .icon{font-weight:700;font-size:14px;letter-spacing:0.3px;position:absolute;inset:0;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity 220ms ease}
      .view-toggle.is-usd .icon.usd{opacity:1}
      .view-toggle.is-pct .icon.pct{opacity:1}
      .neon .card:hover,
      .neon .closed-item:hover,
      .neon .tab:hover,
      .neon .theme-toggle:hover,
      .neon .view-toggle:hover,
      .neon button:hover,
      .neon input:hover,
      .neon select:hover{
        box-shadow:0 0 0 1px rgba(0,209,255,0.9), 0 0 16px rgba(64,156,255,0.65), 0 0 30px rgba(0,209,255,0.45);
        border-color:rgba(0,209,255,0.9);
      }
      .neon .card:hover,
      .neon .closed-item:hover,
      .neon .tab:hover,
      .neon .theme-toggle:hover,
      .neon .view-toggle:hover,
      .neon button:hover,
      .neon input:hover,
      .neon select:hover{
        animation: neonGlow 2.4s ease-in-out infinite;
      }
      @keyframes neonGlow{
        0%{ box-shadow:0 0 0 1px rgba(0,209,255,0.95), 0 0 14px rgba(64,156,255,0.7), 0 0 26px rgba(0,209,255,0.5); }
        50%{ box-shadow:0 0 0 1px rgba(0,209,255,1), 0 0 20px rgba(0,209,255,0.8), 0 0 34px rgba(64,156,255,0.65); }
        100%{ box-shadow:0 0 0 1px rgba(0,209,255,0.95), 0 0 14px rgba(64,156,255,0.7), 0 0 26px rgba(0,209,255,0.5); }
      }
      .closed-controls input[type="search"]{width:240px}
      .closed-list{display:grid;gap:12px;margin-top:14px}
      .closed-item{display:flex;justify-content:space-between;gap:12px;align-items:center;padding:12px;border-radius:12px;background:linear-gradient(180deg,var(--card),var(--card-end));border:1px solid rgba(255,255,255,0.03);box-shadow:0 6px 20px rgba(0,0,0,0.06);transition:transform .12s,box-shadow .12s}
      .closed-item:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(0,0,0,0.12)}
      .closed-meta{display:flex;gap:14px;flex-wrap:wrap}
      .closed-profit{font-weight:700}
      .achievements{margin-top:12px;display:grid;gap:14px}
      .achievement-header{display:flex;align-items:center;gap:12px}
      .ach-logo{width:140px;height:auto;object-fit:contain}
      .ach-summary{display:flex;flex-wrap:wrap;gap:12px;color:var(--muted);font-size:13px}
      .ach-list{display:grid;gap:12px}
      .ach-item{display:flex;justify-content:space-between;gap:12px;align-items:center;padding:12px;border-radius:12px;background:linear-gradient(180deg,var(--card),var(--card-end));border:1px solid rgba(255,255,255,0.03)}
      .ach-item .label{font-weight:600}
      .ach-amount{font-weight:700;color:var(--accent)}
      .ach-profit{font-size:13px;color:var(--muted)}
      .proof{display:grid;gap:8px;margin-top:6px}
      .proof-list{margin:0;padding-left:18px}
      .proof-list li{margin:6px 0}
      .proof-list a{color:var(--accent);text-decoration:none}
      .proof-list a:hover{text-decoration:underline}
      .modal{opacity:0;transition:opacity 260ms ease}
      .modal.show{opacity:1}
      .modal-card{transform:translateY(-12px);opacity:0;transition:transform 260ms ease, opacity 260ms ease}
      .modal.show .modal-card{transform:translateY(0);opacity:1}
      .gauge{display:flex;align-items:center;gap:14px}
      .gauge svg{width:90px;height:90px;transform:rotate(-90deg)}
      .gauge .track{stroke:rgba(255,255,255,0.08);stroke-width:10;fill:none}
      .gauge .value{stroke:var(--accent);stroke-width:10;fill:none;stroke-linecap:round}
      .gauge .gauge-text{display:flex;flex-direction:column;gap:4px}
      .gauge .gauge-score{font-size:20px;font-weight:700;color:var(--accent)}
      .gauge .gauge-label{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:0.5px}
      .price-line{grid-column:1/-1;display:flex;flex-direction:column;gap:12px}
      .price-line-header{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
      .trade-direction{display:inline-flex;align-items:center;gap:6px;font-size:12px;color:var(--muted)}
      .trade-direction .arrow{font-size:14px;font-weight:700}
      .price-track{position:relative;height:6px;border-radius:999px;background:rgba(255,255,255,0.08);margin-top:12px}
      .price-profit{position:absolute;top:0;height:6px;border-radius:999px}
      .price-marker{position:absolute;top:50%;transform:translate(-50%,-50%);width:14px;height:14px;border-radius:50%;background:var(--card);border:2px solid var(--accent);box-shadow:0 0 0 2px rgba(0,0,0,0.4);cursor:pointer;transition:transform .12s, box-shadow .12s}
      .price-marker:hover{transform:translate(-50%,-50%) scale(1.15);box-shadow:0 0 12px rgba(0,209,255,0.5)}
      .price-marker[data-kind="stop"]{border-color:#ff6b6b}
      .price-marker[data-kind="target"]{border-color:#00d1ff}
      .price-marker[data-kind="buy"]{border-color:#ffd166}
      .price-marker[data-kind="close"]{border-color:#9bff8c}
      .price-marker .label{position:absolute;top:18px;left:50%;transform:translateX(-50%);font-size:11px;color:var(--muted);white-space:nowrap}
      .price-info{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;font-size:12px;color:var(--muted);margin-top:12px}
      /* Smooth theme transition */
      body, header, .card, .controls, input, select, footer, .theme-toggle, .logo { transition: background-color 560ms ease, color 560ms ease, border-color 560ms ease, box-shadow 560ms ease; }
      :root.theme-fade *, .theme-fade * { transition: background-color 560ms ease, color 560ms ease, border-color 560ms ease, box-shadow 560ms ease !important }

      /* layered background crossfade using pseudo-elements */
      body::before, body::after{ content:""; position:fixed; inset:0; z-index:-1; pointer-events:none; transition:opacity 560ms ease; }
      body::before{ background: linear-gradient(180deg,var(--bg-dark),var(--bg-dark-end)); opacity:1 }
      body::after{ background: linear-gradient(180deg,var(--bg-light),var(--bg-light-end)); opacity:0 }
      /* when light mode is active, fade to the light layer */
      .light body::before{ opacity:0 }
      .light body::after{ opacity:1 }
      .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px;margin-top:20px}
      .card{background:linear-gradient(180deg,var(--card),var(--card-end));padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 6px 20px rgba(0,0,0,0.06);transition:transform .12s,box-shadow .12s}
      .card:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(0,0,0,0.12)}
      .ticker{font-weight:700;font-size:20px}
      .name{color:var(--muted);font-size:14px;margin-top:6px}
      .confidence{display:flex;flex-direction:column;align-items:flex-end;gap:4px;min-width:90px}
      .confidence-label{font-size:11px;letter-spacing:0.5px;text-transform:uppercase;color:var(--muted)}
      .confidence-value{font-size:18px;font-weight:700;color:var(--accent)}
      .meta{display:flex;justify-content:space-between;margin-top:10px;align-items:center;gap:8px}
      .price{color:var(--accent);font-weight:700}
      .small{font-size:13px;color:var(--muted)}
      canvas.sparkline{display:block;margin-left:auto;width:80px;height:28px}
      .skeleton{background:linear-gradient(90deg,var(--skeleton-start),var(--skeleton-mid),var(--skeleton-start));height:88px;border-radius:12px}
      footer{margin-top:28px;color:var(--muted);font-size:13px;text-align:center}
      @media (max-width:480px){.wrap{padding:12px}input[type="search"]{width:160px}.grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}}
    </style>
  </head>
  <body>
    <div class="wrap">
      <header>
        <div class="header-top">
          <div class="brand">
            <img class="logo" src="icon.png" alt="Loki logo" />
            <div>
              <h1>Loki Clarke's Stocks & Signals</h1>
              <div class="sub">The easiest way to swing trade</div>
            </div>
          </div>
        </div>
        <div class="controls">
          <input id="search" type="search" placeholder="Search ticker or name" aria-label="Search signals" />
          <select id="tagFilter" style="background:var(--card);border:1px solid rgba(255,255,255,0.04);color:inherit;padding:8px;border-radius:8px">
            <option value="">All tags</option>
          </select>
          <select id="sortSignals" class="sort-select" aria-label="Sort signals">
            <option value="newest">Newest</option>
            <option value="oldest">Oldest</option>
            <option value="name_az">Name (A-Z)</option>
            <option value="price_desc">Price (High-Low)</option>
            <option value="price_asc">Price (Low-High)</option>
            <option value="confidence_desc">Confidence (High-Low)</option>
          </select>
          <button id="neonToggle" class="theme-toggle" title="Toggle neon mode" aria-pressed="false">
            <span class="icon" aria-hidden="true">✦</span>
            <span class="sr-only">Toggle neon mode</span>
          </button>
          <button id="themeToggle" class="theme-toggle" title="Toggle theme" aria-pressed="false">
            <svg class="icon icon-moon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" fill="currentColor"/></svg>
            <svg class="icon icon-sun" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M12 4V2M12 22v-2M4.22 4.22l-1.42-1.42M20.2 20.2l-1.42-1.42M2 12H4m16 0h2M4.22 19.78l-1.42 1.42M20.2 3.8l-1.42 1.42M12 8a4 4 0 100 8 4 4 0 000-8z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <span class="sr-only">Toggle theme</span>
          </button>
        </div>
      </header>

      <main>
        <div class="tabs" role="tablist" aria-label="Content tabs">
          <button class="tab active" data-tab="signals" role="tab" aria-selected="true">Signals</button>
          <button class="tab" data-tab="achievements" role="tab" aria-selected="false">Achievements</button>
          <button class="tab" data-tab="closed" role="tab" aria-selected="false">Closed Trades</button>
          <button class="tab" data-tab="confidence" role="tab" aria-selected="false">Confidence Score™</button>
        </div>
        <section id="tab-signals" class="tab-panel active" role="tabpanel">
          <div id="stocks" class="grid"></div>
        </section>
        <section id="tab-achievements" class="tab-panel" role="tabpanel">
          <div class="achievements">
            <div class="achievement-header">
              <img class="ach-logo" src="wizdomcrm.png" alt="WizdomCRM logo" />
              <div>
                <div class="ticker">WizdomCRM Stock Market Game</div>
                <div class="small">All cycles start at $25,000 USD</div>
              </div>
            </div>
            <div class="ach-summary" id="achSummary"></div>
            <div class="ach-list" id="achList"></div>
            <div class="proof">
              <div class="small">Proof articles & posts</div>
              <ul class="proof-list">
                <li><a href="https://www.facebook.com/ansamcalbarbados/posts/-future-investors-in-the-makingin-may-the-ministry-of-education-barbados-stock-e/1413615096391648/#:~:text=Big%20congratulations%20to%20our%20top,Jun%2018%2C%202025%F3%B0%9E%8B%F3%B1%9F%A0">Facebook: "Big congratulations to our top..." (Jun 18, 2025)</a></li>
                <li><a href="https://www.facebook.com/ansamcalbarbados/?locale=sr_RS#:~:text=Triple%20Champion%20Loki%20Clarke%20Dominates,FutureLeaders%20%23FinancialLiteracy%20%23InvestSmart%20%23YouthEmpowerment">Facebook: "Triple Champion Loki Clarke Dominates..."</a></li>
                <li><a href="https://barbadostoday.bb/2025/03/21/students-honoured-at-inaugural-wizdomcrm-sustainable-stock-exchange-market-game-awards-ceremony/">Barbados Today: Students honoured at inaugural WizdomCRM sustainable stock exchange market game awards ceremony (Mar 21, 2025)</a></li>
              </ul>
            </div>
          </div>
        </section>
        <section id="tab-closed" class="tab-panel" role="tabpanel">
          <div class="closed-controls">
            <input id="closedSearch" type="search" placeholder="Search closed trades" aria-label="Search closed trades" />
            <select id="closedSort" style="background:var(--card);border:1px solid rgba(255,255,255,0.04);color:inherit;padding:8px;border-radius:8px">
              <option value="profit_desc">Profit (High to Low)</option>
              <option value="profit_asc">Profit (Low to High)</option>
              <option value="value_az">Value (A-Z)</option>
              <option value="value_za">Value (Z-A)</option>
            </select>
            <button id="closedViewToggle" class="view-toggle" title="Toggle $ / % view" aria-pressed="false">
              <span class="icon usd">$</span>
              <span class="icon pct">%</span>
              <span class="sr-only">Toggle profit view</span>
            </button>
          </div>
          <div id="closedSummary" class="small" style="margin-top:10px;color:var(--muted)"></div>
          <div id="closedList" class="closed-list"></div>
        </section>
        <section id="tab-confidence" class="tab-panel" role="tabpanel">
          <div class="model-panel">
            <div class="model-header">
              <div>
                <div class="ticker">Confidence Score™ Model</div>
                <div class="model-copy">The Confidence Score™ blends fundamentals, technicals, and news momentum to rank swing-trade setups. Below is how closed trade performance stacks up across score ranges.</div>
              </div>
              <button id="confidenceViewToggle" class="view-toggle" title="Toggle $ / % view" aria-pressed="false">
                <span class="icon usd">$</span>
                <span class="icon pct">%</span>
                <span class="sr-only">Toggle profit view</span>
              </button>
            </div>
            <div id="confidenceSummary" class="small" style="margin-top:10px;color:var(--muted)"></div>
            <div id="confidenceModelList" class="model-list"></div>
          </div>
        </section>
      </main>

      <footer id="footer-year">© <span id="current-year"></span> Loki Clarke — This page is updated regularly.<br>Disclaimer: This site is for informational purposes only and does not constitute financial or investment advice. Always do your own research before making investment decisions.</footer>
    </div>
    <script src="local_config.js"></script>
    <script>
      document.getElementById('current-year').textContent = new Date().getFullYear();
    </script>
    <script src="viewer_script.js"></script>
    <!-- Promo modal -->
    <div id="promoModal" class="promo-backdrop" role="dialog" aria-modal="true" aria-labelledby="promoTitle" style="display:none">
      <div class="promo-card">
        <div class="promo-header">
          <div>
            <div id="promoTitle" class="promo-title"><span class="neon-text">NEON</span> launches June 1, 2026</div>
            <div class="promo-sub">Countdown to when the app becomes PAID</div>
          </div>
          <button id="promoClose" class="promo-close" aria-label="Close">Close</button>
        </div>
        <div id="promoCountdown" class="promo-countdown"></div>
        <div class="promo-table" role="table" aria-label="Free vs NEON comparison">
          <div class="promo-row head" role="row">
            <div class="promo-cell" role="columnheader">Feature</div>
            <div class="promo-cell" role="columnheader">Free</div>
            <div class="promo-cell" role="columnheader"><span class="neon-text">NEON</span></div>
          </div>
          <div class="promo-row" role="row">
            <div class="promo-cell">No Ads</div>
            <div class="promo-cell promo-check n">X</div>
            <div class="promo-cell promo-check y">✓</div>
          </div>
          <div class="promo-row" role="row">
            <div class="promo-cell">Access to All Signals</div>
            <div class="promo-cell promo-check y">✓</div>
            <div class="promo-cell promo-check y">✓</div>
          </div>
          <div class="promo-row" role="row">
            <div class="promo-cell">Confidence Score™</div>
            <div class="promo-cell promo-check n">X</div>
            <div class="promo-cell promo-check y">✓</div>
          </div>
          <div class="promo-row" role="row">
            <div class="promo-cell">Signal Notifications</div>
            <div class="promo-cell promo-check y">✓</div>
            <div class="promo-cell promo-check y">✓</div>
          </div>
          <div class="promo-row" role="row">
            <div class="promo-cell">Early access to new features</div>
            <div class="promo-cell promo-check n">X</div>
            <div class="promo-cell promo-check y">✓</div>
          </div>
        </div>
        <div class="promo-footer">
          <div class="promo-prices">NEON pricing: $3.99 USD / month or $30 USD / year</div>
          <label style="display:flex;align-items:center;gap:8px;font-size:12px;color:var(--muted)">
            <input id="promoDontShow" type="checkbox" />
            Don’t show again
          </label>
        </div>
      </div>
    </div>
    <!-- Detail modal for viewer -->
    <div id="detailModal" class="modal" style="display:none;position:fixed;inset:0;backdrop-filter:blur(2px);background:rgba(0,0,0,0.6);align-items:center;justify-content:center">
      <div class="modal-card" style="background:var(--card);padding:18px;border-radius:12px;max-width:640px;width:92%;box-shadow:0 10px 40px rgba(0,0,0,0.6);">
        <button id="detailClose" style="float:right;background:transparent;border:0;color:var(--muted);font-size:18px">✕</button>
          <h3 id="detailTitle" style="margin:0 0 8px 0">Details</h3>
              <div id="detailContent">
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
                  <div><strong>Ticker</strong><div id="d_ticker" class="small"></div></div>
                  <div><strong>Exchange</strong><div id="d_exchange" class="small"></div></div>
                  <div style="grid-column:1/-1"><strong>Name</strong><div id="d_name" class="small"></div></div>
                  <div><strong>Buy Amount</strong><div id="d_buy_amount" class="small"></div></div>
                  <div><strong>Expected Profit</strong><div id="d_expected_profit" class="small"></div></div>
                  <div><strong>Maximum Risk</strong><div id="d_max_risk" class="small"></div></div>
                  <div style="grid-column:1/-1">
                    <strong>Confidence Score™</strong>
                    <div class="gauge" style="margin-top:8px">
                      <svg viewBox="0 0 100 100" aria-hidden="true">
                        <circle class="track" cx="50" cy="50" r="38"></circle>
                        <circle id="d_confidence_arc" class="value" cx="50" cy="50" r="38" stroke-dasharray="239" stroke-dashoffset="239"></circle>
                      </svg>
                      <div class="gauge-text">
                        <div id="d_confidence" class="gauge-score">0/100</div>
                        <div class="gauge-label">Confidence</div>
                      </div>
                    </div>
                  </div>
                  <div class="price-line">
                    <div class="price-line-header">
                      <strong>Price Line</strong>
                      <span id="d_trade_direction" class="trade-direction"><span class="arrow">→</span><span class="label">Direction</span></span>
                    </div>
                    <div class="price-track" id="d_price_track">
                      <div id="d_price_profit" class="price-profit" style="display:none"></div>
                      <div id="d_marker_stop" class="price-marker" data-kind="stop" style="display:none"><div class="label">Stop</div></div>
                      <div id="d_marker_buy" class="price-marker" data-kind="buy" style="display:none"><div class="label">Buy</div></div>
                      <div id="d_marker_target" class="price-marker" data-kind="target" style="display:none"><div class="label">Target</div></div>
                      <div id="d_marker_close" class="price-marker" data-kind="close" style="display:none"><div class="label">Close</div></div>
                    </div>
                    <div id="d_price_info" class="price-info"></div>
                  </div>
                  <div><strong>Entry Date</strong><div id="d_created_at" class="small"></div></div>
                  <div><strong>Close Date</strong><div id="d_closed_at" class="small"></div></div>
                  <div style="grid-column:1/-1"><strong>Notes</strong><div id="d_notes" class="small"></div></div>
                </div>
              </div>
              <style>
                /* make detail chart area more spacious */
                #detailContent .detail-row{display:flex;gap:12px;align-items:center}
                #detailContent .detail-left{flex:1}
                #detailChart{width:100%;height:260px;max-width:520px}
                @media (max-width:520px){ #detailChart{height:200px} }
              </style>
      </div>
    </div>
  </body>
</html>
